<!doctype html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title>Setup Documentation</title>
	<link rel="stylesheet" href="assets/css/styles.css" type="text/css" />
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
</head>

<body>

	<section id="body" class="width">

		<aside id="sidebar" class="column-left">

			<header>
				<h1><a style="font-size: 22px" href="#">Setup Document</a></h1>
				<h2>Documentation by <b>Exicube</b></h2>
			</header>

			<nav id="mainnav">
				<ul>
					<li class="item selected-item"><a href="#topMain">Introduction</a></li>
					<li class="item"><a href="#HS">Help And Support</a></li>
					<li class="item"><a href="#DWT">Environment Setup</a></li>
					<li class="item"><a href="#GS">Getting Started</a></li>
					<li class="item"><a href="#HAP">Deploying the Web App & Server Side</a></li>
					<li class="item"><a href="#AUC">Admin User and Database creation</a></li>
					<li class="item"><a href="#bs">Build Native App</a></li>
					<li class="item"><a href="#apns">Push Notification and Apple Signin</a></li>
					<li class="item"><a href="#RA">Running on Local Development Environment</a></li>
				</ul>
			</nav>
		</aside>
		<section id="content">
			<article id="topMain">
				<h2>1. Introduction</h2>
				<br>
				<p>This project consists of 1 Mobile App, 1 Admin Portal clubbed Website.
				<p class="secondPara">Technologies Used in Web App are:</p>
				<ol class="expanded">
					<li>React.Js</li>
					<li>Redux</li>
					<li>Material UI</li>
					<li>Firebase Realtime Database</li>
				</ol>

				<p> We have built the Mobile App using React Native(Expo) for iOS and Android</p>
				<p class="secondPara">The main Technologies used are</p>
				<ol class="expanded">
					<li>React Native</li>
					<li>Expo</li>
					<li>React Native Elements</li>
				</ol>			
			</article>
			<article id="HS">
				<h2>2. Help And Support </h2><br/>
				<p>
					If you have any questions, please use the <a href="https://exicube.com">https://exicube.com</a> chat or contact form if team is unavailable on chat.<br/>
					It is necessary that you enroll your purchase in the Members area as explained in below link. <br/><br/><a class="button"  href="https://www.exicube.com/support/__faq/how-to-get-support" target="_blank">How To Connect With Us</a><br/>
					Some very helpful links here: <br/><br/><a class="button" href="https://www.exicube.com/support/__faq" target="_blank">FAQ</a>
					<a class="button" href="https://www.exicube.com/support/common-known-issues" target="_blank">COMMON KNOWN ISSUES</a><br/>	
					* Common known issues will only open to the registered users.
				</p>
			</article>
			<article id="DWT">
				<h2>3. Environment Setup</h2>
				<br>
				<p class="secondPara" style="margin-bottom:0px">To run the 2 Apps you need 5 things in your development
					machine as mentioned below.</p>
				<br>
				<p class="secondPara heading">A. Download NodeJs</p>
				<img height="100%" width="25%" src="assets/img/nodejs_logo.png" alt="HTML Structure" />

				<ol class="styledlist listCustom" type="I">
					<li>
						<ul> Download instructions
							<li>Mac users: For OS X, download the .pkg file form below link.<b>(v.16.15.0
									recommended)</b></li>
							<li>Windows users: Download either the MSI or the .exe form below link, whichever you prefer
								.<b>(v.16.15.0 recommended)</b></li>
						</ul>
						<a href="https://nodejs.org/dist/v16.15.0/" class="button" target="_blank">Download Node
							v.16.15.0 from here</a>
					</li>

					<li>After Installing NodeJs you'll most likely need to restart your computer.</li>
					<p style="color:#757575;font-size:18px;">To ensure that NodeJs is installed correctly, you can type:
					</p>
					<code class="codeBlockBg">
						node -v
				</code>
					</li>
					<p style="color:red;font-size:18px;">NOTE: DO NOT IGNORE THE NODE JS VERSION. IT HAS TO BE 16.15.x
					</p>

				</ol>
				<p class="secondPara heading" id="Configure">B. Install Git and Windows-Build-Tools if using <span style="color:red">Windows PC Only </span></p>

				<ul>
					<li> Download and install the latest from this link. https://git-scm.com/</li>
					<br>
					<li>Start PowerShell as Administrator and run
						<code class="codeBlockBg">
							npm install -g windows-build-tools@4.0.0
						</code> </li>
				</ul>

				<p class="secondPara heading" id="Configure">C. Install Expo</p>
				<img height="100%" width="30%" src="assets/img/expo_logo.png" alt="HTML Structure" />
				<h4>In your command prompt, type: </h4>
				<code class="codeBlockBg">
					 npm install -g expo-cli
					</code>
				<h4>Create a account in <a href="https://expo.io/signup">https://expo.io/signup</a> and use the same
					account to signin on command prompt using below command</h4>
				<code class="codeBlockBg">
						expo login
					</code>
				<p class="secondPara heading" id="Configure">D. Install Yarn</p>
				<h4>In your command prompt, type: </h4>
				<code class="codeBlockBg">
						npm install -g yarn
					</code>

				<p class="secondPara heading" id="Configure">E. Install Firebase Tools</p>
				<h4>In your command prompt, type: </h4>
				<code class="codeBlockBg">
						 npm install -g firebase-tools
						</code>
				<h4>Use a Gmail account to signin in firebase on command prompt using below command</h4>
				<code class="codeBlockBg">
							firebase login
						</code>
			</article>
			<article id="GS">
				<h2>4. Getting Started </h2>
				<br>
				<p><b><u> Step 1</u></b> First Extract the Zip file downloaded from codecanyon.</p>
				<p>Open the folder 'Sourecode' in Code Editor after extracting the Zip </p>
				<br>

				<p><b><u> Step 2</u></b> Change the App Name and App Description in the <b>/config.json</b></p>
				<p>The <b>app_identifier</b> is very important. It is also known as <b>Package Name</b> in Android World
					and <b>Bundle Identifier</b> in iOS World </p>

				It is written like <b>com.your-organisation-website-name.app-name</b> <br>
				
				<br>e.g. Exicube has developed a Taxi App. Then the identifier can be <b>com.exicube.taxi</b><br><br>
				<p>Note: The <b>app_identifier</b> should be in lowercase only.</p>

				<img height="500%" width="60%" src="assets/img/main-config-1.png" alt="HTML Structure" /><br><br>
				<p><b><u> Step 3</u></b> Change all <b>Logo</b>, <b>Splash</b> and other images related to branding kept in <b>assets</b> folders</b>
				<p>
				<ul>
					<li>mobile-app/assets/images/logo1024x1024.png</li>
					<li>mobile-app/assets/images/splash.png</li>
					<li>mobile-app/assets/images/logo96x96.png</li>
					<li>mobile-app/assets/images/logo165x90white.png</li>
					<li>mobile-app/assets/images/intro.jpg</li>
					<li>mobile-app/assets/images/bg.jpg</li>
					<li>web-app/public/favicon.ico</li>
					<li>web-app/public/apple-icon.png</li>
					<li>web-app/src/assets/img/logo138x75black.png</li>
					<li>web-app/src/assets/img/logo138x75white.png</li>
					<li>web-app/src/assets/img/logo192x192.png</li>
				</ul>

				<p>Note: Do not change any dimension or file name of the images given. Only overwrite the content of
					image using image editor.</p>

				<p><b><u> Step 4</u></b> Go to <a href="https://console.firebase.google.com/u/0/">Firebase
						Console</a> and then create a new project as shown in picture.</p><br>
				<img height="500%" width="40%" src="assets/img/newProject
				.png" alt="HTML Structure" /><br><br>

				<p> Type in your project name as shown in picture.</p><br>
				<img height="500%" width="40%" src="assets/img/create-firebase-project-1
				.png" alt="HTML Structure" /><br><br>

				<p> Accept terms and click on 'Create Project' as shown in picture.</p><br>
				<img height="500%" width="40%" src="assets/img/create-firebase-project-2
				.png" alt="HTML Structure" /><br><br>

				<p> When your project is ready click the 'Continue' button as shown in picture.</p>
				<img height="500%" width="40%" src="assets/img/newProjContinue
				.png" alt="HTML Structure" /><br><br>

				<p>Create a new Realtime Database as shown in picture.</p>
			<img height="500%" width="40%" src="assets/img/db1.png" alt="HTML Structure" /><br><br>

			<p> Start in locked mode and then enable it.</p>
			<img height="500%" width="40%" src="assets/img/db2.png" alt="HTML Structure" /><br><br>

				<p><b><u> Step 5</u></b> Go to Project Overview and create a new web app and to do that click the red circled
					button as shown in picture.</p><br>
				<img height="500%" width="40%" src="assets/img/newWebApp
				.png" alt="HTML Structure" /><br><br>

				<p> Type in your project name and click on 'Register app' button as shown in
					picture.</p><br>
				<img height="500%" width="40%" src="assets/img/create-firebase-config-1
				.png" alt="HTML Structure" /><br><br>

				<p><b><u> Step 6</u></b> Add an Android and iOS App config in the Firebase Project Settings.</p>
				<img height="500%" width="80%" src="assets/img/services-json-1.png" alt="PushConfig" /><br><br />
				This is a required for running Push Notifications in Android Apps. Go to Firebase Portal and open
				"Project Settings". Add 1 android app with same package name as used earlier in /config.json


				<p> Similarly create another for iOS. Add with same Bundle Identifier / Package Name.</p>
				<img height="500%" width="80%" src="assets/img/services-json-2.png" alt="PushConfig" /><br><br />


				<p><b><u> Step 7</u></b> Configure GCP Server Location.</p>
				<p> 1. Select <b>Default GCP resource location</b> in Firebase Portal -> Settings -> General</p>
				<img height="500%" width="80%" src="assets/img/gcp-server.png" alt="GCPServerConfig" /><br><br />

				<p> 2. Copy <b>Project ID</b> from Firebase Portal -> Settings -> General and paste in the /config.json as shown below. Change the XXXXXX only. Do not tamper with the JSON structure.</p>
				<img width="50%" src="assets/img/main-config-2.png" alt="HTML Structure" /><br><br>


				<p><b><u> Step 8</u></b> Change the Google map keys in the same file <b>/config.json</b>.
					<p>Replace XXXXXX only. You can use same API key in 4 places or 4 different API keys for the 4 different platforms to better monitor platform wise usage and advance security. </p>
					<img width="50%" src="assets/img/main-config-3.png" alt="HTML Structure" /><br><br>
	
					<p style="color:red">Follow the Steps below to collect a valid Google API Key</p>
	
					<p>Open <a href="https://console.cloud.google.com/google/maps-apis/overview">https://console.cloud.google.com/google/maps-apis/overview</a></p>
					<img width="50%" src="assets/img/apikey1.png" alt="Google API Key 1" /><br><br>
					<p>Select the project if you already have it or create a new project. You will have to setup a Billing account if you do not have it. Then click on Create. </p> 
					<img width="50%" src="assets/img/apikey2.png" alt="Google API Key 2" /><br>
					<p>Click on Menu Icon -> API & Services -> Credentials</p>
					<img width="50%" src="assets/img/apikey3.png" alt="Google API Key 3" /><br><br>
					<p>Click on "Create Credential"</p>
					<img width="50%" src="assets/img/apikey4.png" alt="Google API Key 4" /><br><br>
					<p>Click on "Create Credential" Copy the API key. This will be used in code.</p>
					<img width="50%" src="assets/img/apikey5.png" alt="Google API Key 5" /><br><br>
					<p>Couple of more steps required from some extra permissions. Click on API & Services -> Dashboard ->  Enable APIs and Services</p>
					<img width="50%" src="assets/img/apikey6.png" alt="Google API Key 6" /><br><br>
					<p style="color:red">Enable All the APIs show below. Very Important
					<ol>
					<li>Distance Matrix API</li>
						<li>Geocoding API</li>
							<li>Directions API</li>
								<li>Places API</li>
									<li>Maps JavaScript API</li>
										<li>Maps SDK for IOS</li>
											<li>Maps SDK for Android</li>
					</ol>
					</p>
					<img width="50%" src="assets/img/apikey7.png" alt="Google API Key 7" /><br><br>
					<p>This is how you enable each API. Enable all the 7</p>
					<img width="50%" src="assets/img/apikey8.png" alt="Google API Key 8" /><br><br>
					<p style="color:red">Note: Enable billing in this Google Cloud Platform. Very important.</p>
					<img width="50%" src="assets/img/apikey9.png" alt="Google API Key 9" /><br><br>

					<p><b><u> Step 9</u></b> You should enter the CodeCanyon Purchase Code in the /config.json.<br><br>
						<img width="50%" src="assets/img/purchase.png" alt="HTML Structure" />
					</p><br>

				<p><b><u> Step 10</u></b> Go to firebase console and Click on Authetication Menu. Click on
					Sign-in-Method.
					Click on Facebook pencil icon and enter Facebook ID and App Secret in Firebase Authentication ->
					Facebook Section and follow the instruction as show in pictures</p>

				<img height="500%" width="40%" src="assets/img/fbb.png" alt="FB" /><br><br />
				<img height="500%" width="40%" src="assets/img/fb-auth.png" alt="FB" /><br><br />
				<img height="500%" width="40%" src="assets/img/FBFirebase.png" alt="FB" /><br><br />

				<p>For more details on configuring Facebook and get facebook app secret
					and app key please check this link
					<a href="https://docs.expo.io/versions/latest/sdk/facebook/">Click Here</a></a></p>

				<p> Now Go to Code Editor and Change Facebook App ID in /config.json file.</p>
				<img height="500%" width="40%" src="assets/img/main-config-4.png" alt="FB" /><br><br />

				<p><b><u> Step 11</u></b> Click on Authetication Menu and click on Sign-in Method and hover on Email/
					Password pencil icon and follow the instruction as show in pictures </p><br>
				<img height="500%" width="40%" src="assets/img/auth-0
					.png" alt="HTML Structure" /><br><br />
				<img height="500%" width="40%" src="assets/img/auth-1
					.png" alt="HTML Structure" /><br><br />
				<img height="500%" width="40%" src="assets/img/auth-2
					.png" alt="HTML Structure" /><br><br />
				<img height="500%" width="40%" src="assets/img/auth-3
					.png" alt="HTML Structure" /><br><br />
				
				<p>Similarly enable the Phone Auth as shown below</p>

				<img width="60%" src="assets/img/enable-auth.png" alt="Enable Mobile" /><br><br>
				<p> Similarly enable the Apple Auth as shown below. Also add the Bundle
					Indentifier in the "Service ID"</p>

				<img width="60%" src="assets/img/apple-auth.png" alt="Enable Apple" /><br><br><br>


				<p><b><u> Step 12</u></b> Change the Payment Gateway api keys required for payment processing as
					shown in below pictures</p>
				<p><b>e.g. Stripe</b><br>/functions/providers/stripe/checkout.js</p>
				<img width="60%" src="assets/img/strip-settings.png" alt="Map Key Demo" /><br>
				<p>All the payment gateways in Exicube Delivery have same configuration. All providers are inside the <b>functions/providers</b> folder. Change the API keys
					and Secrets in <b>checkout.js</b> of every payment provider folder you want to use. All the payment gateways have same folder structure with a checkout.js in every one of them.<br></p>
				
				<p>You can disable a payment provider by removing it from the providers array in <b>functions/index.js</b> as shown below</p> 
				<img src="assets/img/payment-list.png" alt="Payment List" /><br>
				<p><br/>To disable total online payment make the arrray blank.</p> 
				<code>const providers = []</code>
				<p style="color:red">Payment Gateways network calls will need Firebase Paid plan. Go for Blaze "Pay as
					you Go" plan for the Firebase Project.</p>
			</article>
			<article id="HAP">
				<h2>5. Deploying the Web App plus Server Side</h2>
				<br>
				<p>Run the below commands to run and deploy the web app.</p>
				<p><span style="color:red;">Use Command Prompt in Administrator Mode if using MS Windows. Also note that when you make some changes in code, you have to repeat all these commands.</span></p>
				<code class="codeBlockBg">
					cd Sourecode
				</code>
				<code class="codeBlockBg">
					yarn
				</code>
				<code class="codeBlockBg">
					yarn deploy
				</code>
				<p>After successfully deploying your project you will receive the hosted url in the terminal.</p>
				<img height="500%" width="60%" src="assets/img/hu.png" alt="HTML Structure" /><br><br />
			</article>

			<article id="AUC">
				<h2>6. Admin User and Database Creation</h2>
				<br>
				<!-- <p>Open Functions Tab and copy the Setup url from the Firebase console.</p>
				<img  width="50%"  src="assets/img/setup.png" alt="HTML Structure" /><br><br> -->
				<p>Open the link with any browser and submit the Admin Mobile Number.</p>
				<img  width="50%"  src="assets/img/setup1.png" alt="HTML Structure" /><br>
				<p>On success, you will see the HomePage. Thats it. Web and Server Side is complete.</p>
			</article>

			<article id="bs">
				<h2>7. Build Native Mobile App</h2>
				<br>
				<p>Go into the Main code folder in Command Prompt</p>
				<code class="codeBlockBg">
					cd Sourecode
			 	</code>

				<ol class="styledlist listCustom">
					<li>For building Android </li>

					<code class="codeBlockBg">
						   yarn app:build-android
					</code>

					<li>For building IOS</li>

					<code class="codeBlockBg">
							yarn app:build-ios
					</code>
				</ol>
				<p>When anything asked in the process above, let expo do the certificate generation for you.</p>
			</article>
			<br></br>
			<article id="apns">
				<h2>8. Setting Apple Sign In and Push Notification</h2><br>
				<p>Note: Push Notifications will work automatically in Expo Environment but Native Apps will require
					further configurations.</p>

				<p>Apple Developer Portal Setup</p>
				<ul>
					<li>Login on the Apple Developer portal</li>
					<li>Go to "Certificates, Identifiers & Profiles"</li>
					<li>Select Identifiers, choose your app and check the "Sign in with Apple" and "Push
						Notification" capability. If it's your first time doing this, you'll need to create a new
						app identifier. Make sure to use the same bundle id as in your config.json</li>
					<li>Go to keys and create a new key, give it a pertinent name and make sure to check "Sign in
						with Apple" and "Push Notification".</li>
					<li>When you build with expo just Expo let handle evrything and it will fetch these automatically. </li>
				</ul><br>
				<p>For <strong>Android Push Notifications</strong> upload the "Server Key" to Expo</p>
				<ul>
					Go to Firebase Portal -> Project Settings -> Cloud Messaging

					<br>Copy the Server Key<br><br>

					<img width="80%" src="assets/img/PushServerKey.png" alt="PushServerKey" /><br><br />

					Run below command<br><br>
					<code class="codeBlockBg">yarn app:push server-key-here</code>
					replacing the "server-key-here" with the "Server Key" you just copied.
					<br><br>


					<a href='https://docs.expo.io/guides/using-fcm/'>More Info Here</a><br><br>


				</ul>
			</article>
			<article id="RA">
				<h2>9. Run Apps on Local development environment</h2><br>
				<p>To run the Web App in localhost, run the following command.</p>
				<code class="codeBlockBg">
					yarn web
				</code>

				<p>Web App will be running successfully on http://localhost:3000</p>
				<br/>
				<p>To run the Mobile App in localhost, run the following command in local environment.</p>
				<p>Run below command</p>
					<code class="codeBlockBg">
						yarn app
					</code>
				</li>
				<p>The command will open a Web Page on the PC as shown below</p>

				<img height="50%" width="40%" src="assets/img/device.png" alt="HTML Structure" />
				<br><br>
				<p>You have to download "Expo" App on Mobile from App stores.</p>
				<p><a href="https://play.google.com/store/apps/details?id=host.exp.exponent">PlayStore Link</a><br><a href="https://apps.apple.com/us/app/expo-client/id982107779">AppStore Link</a></p>
				<p>For Android you can scan the QR code of the above running Web Page in the Expo App or login with the same expo.io account created earlier and your App will be automatically get listed in the Expo App.</p>
				<p> For IOS the App Link will show in Expo App automatically if the Device and PC and on same Network and you are logged in with same expo.io account.</p>
				
			</article>
			<br>
			<a href="#topMain" class="arrowTop">
				<img src="assets/img/top.png" alt="gototop" />
			</a>

			<footer class="clear">
				<hr>
				<p>&copy; 2021 Exicube App Solutions (OPC) Private Limited. &nbsp;| Developed by <a
						href="http://exicube.com/">Exicube </a></p>
			</footer>

		</section>
		<div class="clear"></div>
	</section>


	<script>
		var header = document.getElementById("mainnav");
		var btns = header.getElementsByClassName("item");
		for (var i = 0; i < btns.length; i++) {
			btns[i].addEventListener("click", function () {
				var current = document.getElementsByClassName("selected-item");
				current[0].className = current[0].className.replace(" selected-item", "");
				this.className += " selected-item";
			});
		}
	</script>
</body>

</html>